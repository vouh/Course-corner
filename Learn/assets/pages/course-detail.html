<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Details - Course Corner Learn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:'Inter',sans-serif;background:#f9fafb;color:#1f2937}
        .syllabus-card{background:white;border-radius:1rem;padding:2rem;margin-bottom:2rem;border-left:5px solid #16a34a;box-shadow:0 4px 6px -1px rgb(0 0 0/.1);transition:transform .3s}
        .syllabus-card:hover{transform:translateY(-5px)}
        .week-badge{background:#16a34a;color:white;padding:.25rem 1rem;border-radius:9999px;font-size:.875rem;font-weight:700;display:inline-block;margin-bottom:1rem}

        .cc-footer{background:linear-gradient(135deg,#16a34a 0%,#15803d 100%);color:white;padding:4rem 2rem 2rem;border-top:3px solid #16a34a}
        .cc-footer-container{max-width:1240px;margin:0 auto}
        .cc-footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:3rem;padding-bottom:3rem;border-bottom:1px solid rgba(255,255,255,.08);margin-bottom:2rem}
        .cc-footer-links h4{font-size:.75rem;font-weight:700;color:white;margin-bottom:1.25rem;letter-spacing:.1em;text-transform:uppercase}
        .cc-footer-links ul{list-style:none}
        .cc-footer-links li{margin-bottom:.75rem}
        .cc-footer-links a{color:rgba(255,255,255,.85);text-decoration:none;font-size:.9375rem;transition:all .2s}
        .cc-footer-links a:hover{color:white;padding-left:4px}
        .cc-footer-bottom{text-align:center;font-size:.875rem;color:rgba(255,255,255,.75);padding-top:1.5rem}

        /* Nav visibility */
        @media(min-width:1025px){.desktop-nav{display:flex!important;align-items:center;}.mobile-menu-btn{display:none!important;}}
        @media(max-width:1024px){.desktop-nav{display:none!important;}.mobile-menu-btn{display:flex!important;}}
        .mobile-menu.show{height:auto!important;max-height:calc(100vh - 64px);opacity:1!important;overflow-y:auto;border-bottom:1px solid #e5e7eb;box-shadow:0 10px 40px rgba(0,0,0,.1)}
        .mobile-menu-btn.active span:nth-child(1){transform:translateY(6px) rotate(45deg)}
        .mobile-menu-btn.active span:nth-child(2){opacity:0}
        .mobile-menu-btn.active span:nth-child(3){transform:translateY(-6px) rotate(-45deg)}
        .mobile-menu-btn span{display:block;transition:all .3s;background-color:#1f2937!important}
        .modern-header{background:rgba(255,255,255,0.97)!important;backdrop-filter:blur(12px)!important}

        .auth-modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000}
        .auth-modal{background:white;width:90%;max-width:480px;border-radius:1.5rem;overflow:hidden;box-shadow:0 25px 50px rgba(0,0,0,.25)}
        .modal-header{padding:1.5rem;border-bottom:1px solid #f3f4f6;display:flex;justify-content:space-between;align-items:center}
        .modal-header h2{font-weight:800;color:#111827}
        .modal-body{padding:1.5rem}
        .form-group{margin-bottom:1rem}
        .form-group label{display:block;font-size:.875rem;font-weight:700;color:#374151;margin-bottom:.5rem}
        .form-input{width:100%;padding:.75rem 1rem;border:1.5px solid #e5e7eb;border-radius:.75rem;font-size:.9375rem;transition:all .2s}
        .form-input:focus{outline:none;border-color:#16a34a;box-shadow:0 0 0 3px rgba(22,163,74,.1)}
        .btn-primary{width:100%;padding:.875rem;background:#16a34a;color:white;border:none;border-radius:.75rem;font-weight:700;cursor:pointer;transition:all .2s}
        .btn-primary:hover{background:#15803d}
        .modal-close-btn{color:#9ca3af;background:none;border:none;font-size:1.25rem;cursor:pointer}

        @media(max-width:768px){
            .cc-footer-grid{grid-template-columns:1fr}
        }

        /* Mobile Menu Fixes */
        .mobile-menu.show {
            height: auto;
            max-height: 100vh;
            opacity: 1;
            padding-bottom: 2rem;
        }
        .mobile-menu-btn.active span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
        .mobile-menu-btn.active span:nth-child(2) { opacity: 0; }
        .mobile-menu-btn.active span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">

<!-- ═══ HEADER ════════════════════════════════════════════════ -->
<header class="modern-header fixed top-0 left-0 right-0 w-full z-[1000] bg-white/95 backdrop-blur-md border-b border-gray-100 transition-all duration-300" id="learnHeader">
    <div class="header-container flex items-center justify-between max-w-[1400px] mx-auto px-4 md:px-8 py-3">
        <a href="../../index.html" class="logo-container flex items-center gap-2.5 no-underline">
            <img src="https://coursecornerkenya.com/assets/images/logo.png" alt="Course Corner Logo" class="h-8 md:h-10 w-auto">
            <div class="logo-text-group flex flex-col justify-center leading-none gap-[2px]">
                <span class="text-[1.15rem] md:text-[1.35rem] font-extrabold text-[#16a34a] tracking-tight leading-none">Course Corner</span>
                <span class="text-[0.55rem] md:text-[0.65rem] font-semibold text-[#0ea5e9] tracking-wide leading-none">Learn Portal</span>
            </div>
        </a>
        <nav class="desktop-nav hidden lg:flex items-center gap-6">
            <a href="../../index.html" class="text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors">Home</a>
            <a href="courses.html" class="text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors">Courses</a>
            <a href="whats-new.html" class="text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors">What's New</a>
            <a href="about.html" class="text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors">About</a>
            <a href="payment.html" class="text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors flex items-center gap-1"><i class="fas fa-credit-card text-xs"></i> Pay</a>
        </nav>
        <button id="mobileMenuBtn" class="mobile-menu-btn lg:hidden flex flex-col justify-center items-center gap-1.5 w-10 h-10 border-none bg-transparent cursor-pointer" aria-label="Toggle menu">
            <span class="w-6 h-0.5 bg-gray-800"></span>
            <span class="w-6 h-0.5 bg-gray-800"></span>
            <span class="w-6 h-0.5 bg-gray-800"></span>
        </button>
    </div>
    <div class="mobile-menu lg:hidden fixed top-[64px] left-0 right-0 h-0 opacity-0 overflow-hidden bg-white/98 backdrop-blur-xl transition-all duration-300 z-[999]" id="mobileMenu">
        <nav class="flex flex-col gap-2 p-6">
            <a href="../../index.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 transition-all" onclick="closeMobileMenu()">Home</a>
            <a href="courses.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 transition-all" onclick="closeMobileMenu()">Courses</a>
            <a href="whats-new.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 transition-all" onclick="closeMobileMenu()">What's New</a>
            <a href="about.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 transition-all" onclick="closeMobileMenu()">About</a>
            <a href="payment.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 transition-all flex items-center gap-2" onclick="closeMobileMenu()"><i class="fas fa-credit-card text-[#16a34a]"></i> Pay</a>
        </nav>
    </div>
</header>

<!-- Hero Section -->
<header class="bg-white border-b pt-20 pb-12">
    <div class="max-w-4xl mx-auto px-4" id="courseHero">
        <div class="flex items-center gap-4 mb-6">
            <span class="week-badge mb-0" id="courseLevel">Loading...</span>
            <span class="text-gray-500 font-medium text-sm" id="courseDuration">...</span>
        </div>
        <h1 class="text-3xl md:text-5xl font-extrabold text-gray-900 mb-6 leading-tight" id="courseTitle">
            Loading <span class="text-[#16a34a]">Course...</span>
        </h1>
        <p class="text-lg text-gray-600 leading-relaxed mb-8" id="courseDesc">
            Please wait while we fetch the course details.
        </p>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10" id="courseStats"></div>

        <div class="flex flex-col sm:flex-row gap-4">
            <button onclick="window.location.href='apply.html?course='+courseId" class="bg-[#16a34a] text-white px-8 py-4 rounded-xl font-bold text-center text-lg hover:shadow-lg transition-all">
                Secure My Seat - <span id="ctaFee">...</span>
            </button>
            <a href="#syllabus" class="bg-gray-100 text-gray-700 px-8 py-4 rounded-xl font-bold text-center text-lg hover:bg-gray-200 transition-all no-underline">View Syllabus</a>
        </div>
    </div>
</header>

<!-- Syllabus -->
<main id="syllabus" class="max-w-4xl mx-auto px-4 py-16">
    <h2 class="text-3xl font-bold mb-10 text-center">Comprehensive Curriculum</h2>
    <div id="syllabusContainer"></div>
    <div id="outcomesSection"></div>

    <!-- CTA -->
    <div class="bg-[#16a34a] rounded-2xl p-8 text-center text-white mt-12 shadow-2xl">
        <h2 class="text-3xl font-bold mb-4">Ready to start your journey?</h2>
        <p class="text-lg opacity-90 mb-8 max-w-2xl mx-auto">Join a community of students learning practical skills that pay.</p>
        <div class="flex flex-col sm:flex-row justify-center gap-4">
            <button onclick="window.location.href='apply.html?course='+courseId" class="bg-white text-[#16a34a] px-10 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all">
                Enroll Now (<span id="ctaFee2">...</span>)
            </button>
            <a href="courses.html" class="bg-green-700 text-white px-10 py-4 rounded-xl font-bold text-lg hover:bg-green-800 transition-all no-underline">Browse Other Courses</a>
        </div>
    </div>
</main>

<!-- ═══ FOOTER ════════════════════════════════════════════════ -->
<footer class="cc-footer">
    <div class="cc-footer-container">
        <div class="cc-footer-grid">
            <div class="cc-footer-brand">
                <div class="flex items-center gap-2 mb-4">
                    <img src="https://coursecornerkenya.com/assets/images/logo.png" class="h-10 w-auto" alt="Course Corner logo" />
                    <div class="flex flex-col leading-none">
                        <span class="text-white font-extrabold text-lg">Course Corner</span>
                        <span class="text-blue-400 font-bold text-[0.6rem] uppercase tracking-wider">Learn Portal</span>
                    </div>
                </div>
                <p class="text-white/90 text-sm leading-relaxed max-w-[260px] mt-3">Empowering Kenyan students to gain practical digital skills for the modern economy.</p>
                <div class="flex gap-3 mt-6">
                    <a href="#" class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-white hover:bg-[#16a34a] transition-all"><i class="fab fa-whatsapp"></i></a>
                    <a href="#" class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-white hover:bg-[#16a34a] transition-all"><i class="fab fa-tiktok"></i></a>
                    <a href="#" class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-white hover:bg-[#16a34a] transition-all"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="cc-footer-links">
                <h4>Learn Portal</h4>
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="courses.html">All Courses</a></li>
                    <li><a href="dashboard.html">Student Dashboard</a></li>
                    <li><a href="whats-new.html">What's New</a></li>
                </ul>
            </div>
            <div class="cc-footer-links">
                <h4>Resources</h4>
                <ul>
                    <li><a href="https://coursecornerkenya.com" onclick="return confirmExternal(event,this)">Main Site</a></li>
                    <li><a href="https://coursecornerkenya.com/pages/privacy-policy.html" onclick="return confirmExternal(event,this)">Privacy Policy</a></li>
                    <li><a href="https://coursecornerkenya.com/pages/terms-of-service.html" onclick="return confirmExternal(event,this)">Terms of Service</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold uppercase tracking-widest text-xs mb-5">Contact</h4>
                <ul class="space-y-3 text-sm" style="list-style:none;">
                    <li class="flex items-center gap-3 text-white/85"><i class="fas fa-envelope text-white"></i> info.coursecorner@gmail.com</li>
                    <li class="flex items-center gap-3 text-white/85"><i class="fas fa-phone text-white"></i> 0718 744780</li>
                    <li class="flex items-center gap-3 text-white/85"><i class="fas fa-map-marker-alt text-white"></i> Nairobi, Kenya</li>
                </ul>
            </div>
        </div>
        <div class="cc-footer-bottom"><p>&copy; 2026 Course Corner. All rights reserved.</p></div>
    </div>
</footer>

<script>
    // ── Mobile menu ──
    document.addEventListener('DOMContentLoaded', () => {
        const mmBtn = document.getElementById('mobileMenuBtn');
        const mm = document.getElementById('mobileMenu');
        if (mmBtn && mm) {
            mmBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                mm.classList.toggle('show');
                mmBtn.classList.toggle('active');
            });
        }
        document.addEventListener('click', (e) => {
            const mm = document.getElementById('mobileMenu');
            const mmBtn = document.getElementById('mobileMenuBtn');
            if (mm && mm.classList.contains('show') && !mm.contains(e.target) && !mmBtn.contains(e.target)) {
                mm.classList.remove('show');
                mmBtn.classList.remove('active');
            }
        });
    });
    window.closeMobileMenu = () => {
        const mm = document.getElementById('mobileMenu');
        const mmBtn = document.getElementById('mobileMenuBtn');
        if (mm) mm.classList.remove('show');
        if (mmBtn) mmBtn.classList.remove('active');
    };
    window.addEventListener('scroll', () => {
        const h = document.getElementById('learnHeader');
        if (h) h.classList.toggle('scrolled', scrollY > 10);
    });

    // ── Course Detail Fetch ──
    const params = new URLSearchParams(window.location.search);
    const courseId = params.get('id') || 'starter';

    async function loadDetail() {
        try {
            const resp = await fetch('../../data/courses.json');
            const courses = await resp.json();
            const c = courses.find(x => x.id === courseId) || courses[0];
            if (!c) return;

            document.title = `${c.title} - Course Corner Learn`;
            document.getElementById('courseTitle').innerHTML = c.title;
            document.getElementById('courseDesc').innerText = c.description;
            document.getElementById('courseLevel').innerText = c.level;
            document.getElementById('courseDuration').innerText = c.duration;
            document.getElementById('ctaFee').innerText = `${c.currency} ${c.fee.toLocaleString()}`;
            document.getElementById('ctaFee2').innerText = `${c.currency} ${c.fee.toLocaleString()}`;

            // Stats
            document.getElementById('courseStats').innerHTML = `
                <div class="flex items-center gap-3 bg-white p-4 rounded-xl border border-gray-100">
                    <div class="w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-[#16a34a]"><i class="fas fa-calendar-alt"></i></div>
                    <div><p class="text-xs text-gray-500 uppercase font-bold">Duration</p><p class="font-bold">${c.duration}</p></div>
                </div>
                <div class="flex items-center gap-3 bg-white p-4 rounded-xl border border-gray-100">
                    <div class="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600"><i class="fas fa-book"></i></div>
                    <div><p class="text-xs text-gray-500 uppercase font-bold">Modules</p><p class="font-bold">${c.modulesCount} Modules</p></div>
                </div>
                <div class="flex items-center gap-3 bg-white p-4 rounded-xl border border-gray-100">
                    <div class="w-10 h-10 rounded-full bg-amber-50 flex items-center justify-center text-amber-600"><i class="fas fa-certificate"></i></div>
                    <div><p class="text-xs text-gray-500 uppercase font-bold">Perk</p><p class="font-bold">Certificate</p></div>
                </div>
                <div class="flex items-center gap-3 bg-white p-4 rounded-xl border border-gray-100">
                    <div class="w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-purple-600"><i class="fas fa-tag"></i></div>
                    <div><p class="text-xs text-gray-500 uppercase font-bold">Fee</p><p class="font-bold text-lg text-[#16a34a]">${c.currency} ${c.fee.toLocaleString()}</p></div>
                </div>
            `;

            // Syllabus
            if (c.syllabus && c.syllabus.length) {
                document.getElementById('syllabusContainer').innerHTML = c.syllabus.map((s, idx) => {
                    const accent = idx % 3 === 0 ? '#16a34a' : idx % 3 === 1 ? '#0ea5e9' : '#8b5cf6';
                    return `
                    <div class="syllabus-card" style="border-left-color:${accent}">
                        <div class="flex flex-wrap items-center gap-2 mb-3">
                            <span class="week-badge mb-0" style="background:${accent}">${s.week}</span>
                            ${s.module ? `<span class="text-xs font-bold text-gray-400 uppercase tracking-wider">${s.module}</span>` : ''}
                        </div>
                        <h3 class="text-lg font-extrabold text-gray-900 mb-4">${s.title}</h3>

                        <div class="mb-4">
                            <h4 class="font-bold text-xs uppercase tracking-wider text-gray-400 mb-3"><i class="fas fa-list-ul mr-1"></i> Topics Covered</h4>
                            <ul class="space-y-2">
                                ${s.topics.map(t => `<li class="flex items-start gap-2 text-sm text-gray-700"><i class="fas fa-check-circle mt-0.5 flex-shrink-0" style="color:${accent}"></i><span>${t}</span></li>`).join('')}
                            </ul>
                        </div>

                        ${s.activities && s.activities.length ? `
                        <div class="bg-blue-50 rounded-xl p-4 mb-3">
                            <h4 class="font-bold text-xs uppercase tracking-wider text-blue-500 mb-3"><i class="fas fa-laptop-code mr-1"></i> Practical Activities</h4>
                            <ul class="space-y-1.5">
                                ${s.activities.map(a => `<li class="flex items-start gap-2 text-sm text-gray-700"><i class="fas fa-arrow-right text-xs text-blue-400 mt-1 flex-shrink-0"></i><span>${a}</span></li>`).join('')}
                            </ul>
                        </div>` : ''}

                        ${s.assignment ? `
                        <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 mb-3">
                            <h4 class="font-bold text-xs uppercase tracking-wider text-amber-600 mb-2"><i class="fas fa-pencil-alt mr-1"></i> Weekly Assignment</h4>
                            <p class="text-sm text-gray-700">${s.assignment}</p>
                        </div>` : ''}

                        ${s.project && s.project.length ? `
                        <div class="bg-green-50 border border-green-200 rounded-xl p-4">
                            <h4 class="font-bold text-xs uppercase tracking-wider text-green-700 mb-3"><i class="fas fa-star mr-1"></i> End-of-Module Projects</h4>
                            <ul class="space-y-1.5">
                                ${s.project.map(p => `<li class="flex items-start gap-2 text-sm font-semibold text-gray-800"><i class="fas fa-trophy text-xs text-green-500 mt-1 flex-shrink-0"></i><span>${p}</span></li>`).join('')}
                            </ul>
                        </div>` : ''}
                    </div>`;
                }).join('');
            } else {
                document.getElementById('syllabusContainer').innerHTML = '<p class="text-center text-gray-400">Syllabus details coming soon.</p>';
            }

            // Outcomes
            if (c.outcomes && c.outcomes.length) {
                document.getElementById('outcomesSection').innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-green-950 rounded-2xl p-8 mt-12 text-white">
                    <h3 class="text-2xl font-extrabold mb-2">What You Will Achieve</h3>
                    <p class="text-green-300 text-sm mb-6">By the end of this package, you will be able to:</p>
                    <ul class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        ${c.outcomes.map(o => `<li class="flex items-start gap-3 text-sm"><i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i><span>${o}</span></li>`).join('')}
                    </ul>
                </div>`;
            }
        } catch (err) {
            console.error('Failed to load course:', err);
            document.getElementById('courseTitle').innerText = 'Course Not Found';
            document.getElementById('courseDesc').innerText = 'We could not load this course. Please go back and try again.';
        }
    }

    function confirmExternal(e, el) {
        e.preventDefault();
        const url = el.href;
        Swal.fire({
            title: 'Leaving Learn Portal', html: `Redirecting to <strong>${new URL(url).hostname}</strong>`,
            icon: 'info', showCancelButton: true, confirmButtonText: 'Continue', cancelButtonText: 'Stay Here',
            confirmButtonColor: '#16a34a', cancelButtonColor: '#6b7280',
        }).then(r => { if (r.isConfirmed) window.location.href = url; });
        return false;
    }

    loadDetail();
</script>
</body>
</html>
