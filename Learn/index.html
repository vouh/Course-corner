<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Corner Learn � Online Learning Portal</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" href="/favicon.ico" sizes="any">

    <!-- External Deps -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Site Stylesheets -->
    <link rel="stylesheet" href="https://coursecornerkenya.com/assets/css/modern-ui.css">
    <link rel="stylesheet" href="https://coursecornerkenya.com/assets/css/auth.css">

    <style>
        body { font-family: 'Inter','Poppins',sans-serif; background:#f9fafb; color:#1f2937; }

        /* -- Hero --------------------------------------------- */
        .learn-hero {
            min-height:80vh; padding-top:40px;
            background:linear-gradient(135deg,#ffffff 0%,#f9fafb 50%,#f3f4f6 100%);
            display:flex; align-items:center; position:relative; overflow:hidden;
        }
        .learn-hero::before {
            content:''; position:absolute; top:-200px; right:-100px;
            width:700px; height:700px;
            background:radial-gradient(circle,rgba(22,163,74,.08) 0%,transparent 65%);
            pointer-events:none;
        }
        .learn-hero::after {
            content:''; position:absolute; bottom:-100px; left:-60px;
            width:500px; height:500px;
            background:radial-gradient(circle,rgba(14,165,233,.06) 0%,transparent 65%);
            pointer-events:none;
        }
        .hero-inner {
            max-width:1280px; margin:0 auto; width:100%; padding:2.5rem 2rem;
            display:grid; grid-template-columns:1fr 1.15fr; gap:4rem;
            align-items:center; position:relative; z-index:1;
        }
        .hero-badge {
            display:inline-flex; align-items:center; gap:.5rem;
            background:rgba(22,163,74,.15); border:1px solid rgba(22,163,74,.3); color:#4ade80;
            padding:.4rem 1rem; border-radius:9999px; font-size:.8125rem;
            font-weight:600; margin-bottom:1.5rem; width:fit-content;
        }
        .hero-heading {
            font-size:clamp(2.5rem,4.5vw,4rem); font-weight:800;
            line-height:1.1; letter-spacing:-.03em; color:#111827; margin-bottom:1.5rem;
        }
        .hero-heading .green {
            background:linear-gradient(135deg,#16a34a 0%,#0ea5e9 100%);
            -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
        }
        .hero-sub { font-size:1.125rem; line-height:1.7; color:#6b7280; margin-bottom:2.5rem; max-width:500px; }
        .hero-ctas { display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:3rem; }
        .btn-hero-primary {
            display:inline-flex; align-items:center; gap:.5rem;
            padding:.9rem 2rem; background:linear-gradient(135deg,#16a34a 0%,#15803d 100%);
            color:white; border:none; border-radius:.75rem; font-weight:700;
            font-size:1rem; cursor:pointer; transition:all .3s ease;
            box-shadow:0 8px 24px rgba(22,163,74,.28); text-decoration:none;
        }
        .btn-hero-primary:hover { transform:translateY(-3px); box-shadow:0 14px 32px rgba(22,163,74,.38); }
        .btn-hero-outline {
            display:inline-flex; align-items:center; gap:.5rem;
            padding:.9rem 2rem; background:white; color:#16a34a;
            border:2px solid #16a34a; border-radius:.75rem; font-weight:700;
            font-size:1rem; cursor:pointer; transition:all .3s ease; text-decoration:none;
        }
        .btn-hero-outline:hover { background:#16a34a; color:white; transform:translateY(-3px); box-shadow:0 8px 24px rgba(22,163,74,.25); }
        .hero-stats { display:flex; gap:2.5rem; padding-top:1rem; border-top:1px solid rgba(0,0,0,.08); }
        .stat-item { display:flex; flex-direction:column; }
        .stat-number { font-size:1.625rem; font-weight:800; color:#16a34a; line-height:1; }
        .stat-label { font-size:.8125rem; color:#6b7280; margin-top:.2rem; }

        /* --- Featured Google button (top of auth modal) ------- */
        .btn-google-featured {
            padding:.875rem 1rem !important;
            font-size:1rem !important;
            font-weight:700 !important;
            border:1.5px solid #e5e7eb !important;
            border-radius:.75rem !important;
            box-shadow:0 2px 8px rgba(0,0,0,.07);
            transition:box-shadow .2s, border-color .2s;
        }
        .btn-google-featured:hover {
            border-color:#4285F4 !important;
            box-shadow:0 4px 16px rgba(66,133,244,.18) !important;
        }

        /* Hero visual card */
        .hero-visual { position:relative; display:flex; align-items:center; justify-content:center; }
        .hero-visual-card {
            background:white; border-radius:2rem; padding:2.5rem;
            box-shadow:0 30px 80px rgba(22,163,74,.12),0 8px 24px rgba(0,0,0,.06);
            border:1px solid rgba(22,163,74,.1); width:100%; max-width:420px; position:relative;
        }
        .hero-logo-center { display:flex; flex-direction:column; align-items:center; margin-bottom:2rem; }
        .hero-logo-center img { width:90px; height:90px; object-fit:contain; margin-bottom:1rem; }
        .hero-logo-center .portal-name { font-size:1.4rem; font-weight:800; color:#16a34a; letter-spacing:-.02em; text-align:center; line-height:1.2; }
        .hero-logo-center .portal-sub  { font-size:.8125rem; color:#6b7280; text-align:center; margin-top:.25rem; }
        .hero-course-preview { display:flex; flex-direction:column; gap:.75rem; }
        .preview-item {
            display:flex; align-items:center; gap:1rem;
            padding:.875rem 1rem; background:#f9fafb; border-radius:.875rem;
            border:1px solid #e5e7eb; transition:all .2s;
        }
        .preview-item:hover { background:#f0fdf4; border-color:#bbf7d0; }
        .preview-icon { width:40px; height:40px; border-radius:.625rem; display:flex; align-items:center; justify-content:center; font-size:1.1rem; color:white; flex-shrink:0; }
        .preview-info { flex:1; min-width:0; }
        .preview-title { font-size:.875rem; font-weight:600; color:#111827; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
        .preview-meta  { font-size:.75rem; color:#6b7280; margin-top:.1rem; }
        .preview-badge { font-size:.6875rem; font-weight:600; padding:.2rem .5rem; border-radius:9999px; white-space:nowrap; }
        .badge-beginner    { background:#dcfce7; color:#15803d; }
        .badge-intermediate{ background:#dbeafe; color:#1d4ed8; }
        .badge-advanced    { background:#fce7f3; color:#9d174d; }
        .float-badge {
            position:absolute; background:white; border-radius:1rem; padding:.625rem .875rem;
            box-shadow:0 8px 24px rgba(0,0,0,.1); display:flex; align-items:center; gap:.5rem;
            font-size:.8125rem; font-weight:600; border:1px solid #e5e7eb;
            animation:float 3s ease-in-out infinite;
        }
        .float-badge.top-right   { top:-20px; right:-20px; animation-delay:0s; }
        .float-badge.bottom-left { bottom:-20px; left:-20px; animation-delay:1.5s; }
        @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }

        /* -- Shared section ------------------------------------ */
        .section-wrap { max-width:1240px; margin:0 auto; padding:0 2rem; }
        .section-label {
            display:inline-flex; align-items:center; gap:.5rem;
            background:rgba(22,163,74,.08); color:#15803d;
            padding:.35rem .875rem; border-radius:9999px; font-size:.8rem;
            font-weight:600; margin-bottom:.75rem; letter-spacing:.03em; text-transform:uppercase;
        }
        .section-title { font-size:clamp(1.75rem,3vw,2.5rem); font-weight:800; color:#111827; letter-spacing:-.02em; margin-bottom:.75rem; line-height:1.2; }
        .section-desc  { font-size:1.0625rem; color:#6b7280; line-height:1.7; max-width:580px; }

        /* -- Courses ------------------------------------------- */
        .courses-section { padding:5rem 2rem; background:white; }
        .courses-header  { margin-bottom:3rem; }
        .courses-grid    { display:grid; grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); gap:1.75rem; }
        .course-card {
            background:white; border-radius:1.25rem; border:1px solid #e5e7eb;
            overflow:hidden; transition:all .3s cubic-bezier(.4,0,.2,1);
            display:flex; flex-direction:column;
        }
        .course-card:hover { transform:translateY(-6px); box-shadow:0 20px 50px rgba(22,163,74,.1),0 8px 20px rgba(0,0,0,.06); border-color:#bbf7d0; }
        .course-thumb { height:180px; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden; }
        .course-thumb i { font-size:2.5rem; color:white; position:relative; z-index:1; filter:drop-shadow(0 4px 8px rgba(0,0,0,.25)); }
        .course-body { padding:1.5rem; flex:1; display:flex; flex-direction:column; }
        .course-level-tag { display:inline-flex; align-items:center; gap:.3rem; font-size:.75rem; font-weight:600; padding:.25rem .625rem; border-radius:9999px; margin-bottom:.875rem; width:fit-content; }
        .course-name  { font-size:1.125rem; font-weight:700; color:#111827; margin-bottom:.5rem; line-height:1.35; }
        .course-desc  { font-size:.9rem; color:#6b7280; line-height:1.6; flex:1; margin-bottom:1.25rem; }
        .course-footer { display:flex; align-items:center; justify-content:space-between; padding-top:1rem; border-top:1px solid #f3f4f6; }
        .course-meta-info { display:flex; align-items:center; gap:.375rem; font-size:.8125rem; color:#9ca3af; }
        .course-meta-info i { font-size:.75rem; }
        .btn-enrol {
            display:inline-flex; align-items:center; gap:.375rem;
            padding:.5rem 1.125rem; background:linear-gradient(135deg,#16a34a 0%,#15803d 100%);
            color:white; border:none; border-radius:.625rem; font-size:.875rem;
            font-weight:600; cursor:pointer; transition:all .2s;
        }
        .btn-enrol:hover { transform:translateY(-1px); box-shadow:0 6px 16px rgba(22,163,74,.3); }

        /* -- Features band ----------------------------------- */
        .features-band {
            padding: 6rem 2rem;
            background: linear-gradient(135deg, #064e3b 0%, #065f46 100%);
            color: white;
            position: relative;
            overflow: hidden;
            border-top: 1px solid rgba(255,255,255,0.05);
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .features-band::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 20% 30%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(5, 150, 105, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        .features-grid { max-width:1240px; margin:0 auto; display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:2.5rem; position:relative; }
        .feature-item  { text-align:center; }
        .feature-icon-wrap { width:64px; height:64px; background:rgba(255,255,255,.15); border-radius:1rem; display:flex; align-items:center; justify-content:center; font-size:1.75rem; margin:0 auto 1.25rem; backdrop-filter:blur(4px); border:1px solid rgba(255,255,255,.2); }
        .feature-item h3 { font-size:1.125rem; font-weight:700; margin-bottom:.5rem; }
        .feature-item p  { font-size:.9rem; opacity:.85; line-height:1.6; }

        /* -- Footer -------------------------------------------- */
        .learn-footer { background: linear-gradient(135deg, #16a34a 0%, #15803d 100%); color: white; padding:4rem 2rem 2rem; border-top:3px solid #16a34a; }
        .footer-inner { max-width:1240px; margin:0 auto; }
        .footer-top { display:grid; grid-template-columns:2fr 1fr 1fr 1fr; gap:3rem; padding-bottom:3rem; border-bottom:1px solid rgba(255,255,255,.08); margin-bottom:2rem; }
        .footer-brand .brand-logo-row { display:flex; align-items:center; gap:.75rem; margin-bottom:1.25rem; }
        .footer-brand .brand-logo-row img { width:44px; height:44px; object-fit:contain; }
        .footer-brand .brand-logo-row .fn { font-size:1.125rem; font-weight:800; color:#fff; line-height:1.1; }
        .footer-brand .brand-logo-row .fs { font-size:.625rem; font-weight:700; color:#ffffff; letter-spacing:.08em; text-transform:uppercase; }
        .footer-brand p { font-size:.9375rem; color: rgba(255,255,255,0.9); line-height:1.7; max-width:260px; }
        .footer-brand .social-row { display:flex; gap:.75rem; margin-top:1.25rem; }
        .footer-brand .social-row a { width:36px; height:36px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.2); border-radius:.625rem; display:flex; align-items:center; justify-content:center; color:rgba(255,255,255,.8); font-size:.9rem; text-decoration:none; transition:all .2s; }
        .footer-brand .social-row a:hover { background:#16a34a; border-color:#16a34a; color:white; }
        .footer-col h4 { font-size:.75rem; font-weight:700; color:white; margin-bottom:1.25rem; letter-spacing:.1em; text-transform:uppercase; }
        .footer-col ul { list-style:none; padding:0; margin:0; }
        .footer-col ul li { margin-bottom:.75rem; }
        .footer-col ul li a { color: rgba(255,255,255,0.85); text-decoration:none; font-size:.9375rem; transition:all .2s; }
        .footer-col ul li a:hover { color:white; padding-left:4px; font-weight:600; }
        .footer-bottom { text-align:center; font-size:.875rem; color: rgba(255,255,255,0.7); padding-top:1.5rem; }

        /* -- Learn nav pill ------------------------------------ */
        .learn-pill {
            display:inline-flex; align-items:center; gap:.375rem;
            background:linear-gradient(135deg,#16a34a 0%,#0ea5e9 100%);
            color:white; font-size:.7rem; font-weight:700;
            padding:.2rem .55rem; border-radius:9999px; text-transform:uppercase;
            letter-spacing:.04em; margin-left:.4rem; vertical-align:middle;
        }

        /* -- Responsive ---------------------------------------- */
        /* Ensure nav shows on desktop */
        @media(min-width:1025px){
            .desktop-nav{display:flex!important;align-items:center;}
            .mobile-menu-btn{display:none!important;}
        }
        @media(max-width:1024px){
            /* Let the section shrink to fit its content — no dark bars top/bottom */
            .learn-hero {
                background:transparent;
                min-height:0;
                padding-top:0;
                padding-bottom:0;
            }
            /* Reset the desktop glow blobs; ::before becomes the overlay, ::after disappears */
            .learn-hero::before, .learn-hero::after {
                content:''; position:absolute;
                top:0; right:0; bottom:0; left:0;
                width:100%; height:100%;
                border-radius:0; pointer-events:none;
            }
            .learn-hero::before {
                background: linear-gradient(
                    to bottom,
                    rgba(0,0,0,.75) 0%,
                    rgba(0,0,0,.55) 45%,
                    rgba(0,0,0,.65) 100%
                );
                z-index:1;
            }
            .learn-hero::after { background:none; z-index:0; }

            /* hero-visual becomes the bg layer, sized by the hero-inner content */
            .hero-visual {
                display:block!important;
                position:absolute;
                top:0; left:0; right:0; bottom:0;
                z-index:0; overflow:hidden;
            }
            .hero-visual > div { width:100%; height:100%; position:relative; }
            .hero-visual > div > div:first-child { display:none; }
            .hero-visual > div > div:last-child {
                position:absolute; top:0; left:0; right:0; bottom:0;
                height:100%!important; width:100%!important;
                border-radius:0!important; box-shadow:none!important; border:none!important;
            }
            .hero-visual img {
                width:100%; height:100%;
                object-fit:cover; object-position:center 15%;
            }
            .hero-visual > div > div:last-child > div:last-child { display:none; }

            /* Text content layer */
            .hero-inner {
                grid-template-columns:1fr; gap:0;
                position:relative; z-index:2;
                padding-top:6rem; padding-bottom:4rem;
            }
            /* Text colours & shadows for legibility over photo */
            .hero-heading {
                color:#fff; font-size:2.5rem;
                text-shadow:0 2px 16px rgba(0,0,0,.7), 0 1px 4px rgba(0,0,0,.9);
            }
            /* Keep the green gradient on desktop; lock to bright white on mobile */
            .hero-heading .green {
                background:none;
                -webkit-background-clip:unset; background-clip:unset;
                -webkit-text-fill-color:#4ade80;
                color:#4ade80;
                text-shadow:0 2px 16px rgba(0,0,0,.7);
            }
            .hero-sub {
                color:#fff;
                text-shadow:0 1px 8px rgba(0,0,0,.8);
            }
            .hero-badge   { background:rgba(255,255,255,.12); border-color:rgba(255,255,255,.25); color:#bbf7d0; }
            .hero-stats   { border-top-color:rgba(255,255,255,.2); }
            .stat-number  { color:#4ade80; }
            .stat-label   { color:rgba(255,255,255,.72); }
            .btn-hero-outline {
                background:rgba(255,255,255,.12); color:#fff;
                border-color:rgba(255,255,255,.55); backdrop-filter:blur(8px);
            }
            .btn-hero-outline:hover { background:#16a34a; border-color:#16a34a; color:#fff; }
            .footer-top{grid-template-columns:1fr 1fr;gap:2rem;}
            .desktop-nav{display:none!important;}
            .mobile-menu-btn{display:flex!important;}
            .cc-footer-grid{grid-template-columns:1fr 1fr!important;gap:2rem!important;}
        }
        @media(max-width:640px){
            .hero-inner{padding-top:5rem; padding-bottom:3rem; padding-left:1.25rem; padding-right:1.25rem;}
            .hero-heading{font-size:2rem;}
            .hero-ctas{display:grid;grid-template-columns:1fr 1fr;gap:.5rem;}
            .btn-hero-primary,.btn-hero-outline{
                width:100%;justify-content:center;
                padding:.55rem .625rem;
                font-size:.78rem;
                white-space:nowrap;
                border-radius:.625rem;
            }
            .btn-hero-primary i, .btn-hero-outline i { font-size:.75rem; }
            .hero-stats{gap:1.5rem;}
            .courses-section,.features-band{padding:3rem 1.25rem;}
            .footer-top{grid-template-columns:1fr;gap:1.5rem;}
            .cc-footer-grid{grid-template-columns:1fr!important;}
            .courses-grid{grid-template-columns:1fr!important;}
        }
        /* -- Mobile menu show state -- */
        .mobile-menu.show{height:auto!important;max-height:calc(100vh - 64px);opacity:1!important;overflow-y:auto;border-bottom:1px solid #e5e7eb;box-shadow:0 10px 40px rgba(0,0,0,.1);}
        .mobile-menu-btn.active span:nth-child(1){transform:translateY(6px) rotate(45deg);}
        .mobile-menu-btn.active span:nth-child(2){opacity:0;}
        .mobile-menu-btn.active span:nth-child(3){transform:translateY(-6px) rotate(-45deg);}
        .mobile-menu-btn span{display:block;transition:all .3s;}
    </style>
</head>

<body>

<!-- --- NAVIGATION -------------------------------------------- -->
<header class="modern-header fixed top-0 left-0 right-0 w-full z-[1000] bg-white/95 backdrop-blur-md border-b border-transparent transition-all duration-300" id="learnHeader">
    <div class="header-container flex items-center justify-between max-w-[1400px] mx-auto px-4 md:px-8 py-3">
        <!-- Logo -->
        <a href="index.html" class="logo-container flex items-center gap-2.5 no-underline">
            <img src="https://coursecornerkenya.com/assets/images/logo.png" alt="Course Corner Logo" class="h-8 md:h-10 w-auto">
            <div class="logo-text-group flex flex-col justify-center leading-none gap-[2px]">
                <span class="text-[1.15rem] md:text-[1.35rem] font-extrabold text-[#16a34a] tracking-tight leading-none">Course Corner</span>
                <span class="text-[0.55rem] md:text-[0.65rem] font-semibold text-[#0ea5e9] tracking-wide leading-none">Learn Portal</span>
            </div>
        </a>

        <!-- Desktop Navigation -->
        <nav class="desktop-nav hidden lg:flex items-center gap-10">
            <div class="nav-links flex items-center gap-6">
                <a href="index.html" class="modern-nav-link text-[0.9rem] font-semibold text-[#16a34a] no-underline">Home</a>
                <a href="assets/pages/courses.html" class="modern-nav-link text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors">Courses</a>
                <a href="assets/pages/whats-new.html" class="modern-nav-link text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors">What's New</a>
                <a href="assets/pages/about.html" class="modern-nav-link text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors">About</a>
                <a href="assets/pages/payment.html" class="modern-nav-link text-[0.9rem] font-semibold text-gray-600 hover:text-[#16a34a] no-underline transition-colors flex items-center gap-1"><i class="fas fa-credit-card text-xs"></i> Pay</a>
            </div>

            <!-- Auth Area -->
            <div class="nav-auth-buttons flex items-center gap-4">
                <button id="authNavBtn" class="px-6 py-2.5 bg-[#16a34a] text-white rounded-full text-sm font-bold flex items-center gap-2 hover:bg-[#15803d] transition-all shadow-lg shadow-green-600/20" onclick="openAuthModal()">
                    <i class="fas fa-user-circle"></i>
                    <span>Sign In</span>
                </button>

                <div id="userNavArea" style="display: none; align-items: center; gap: 1rem; position: relative;" class="flex items-center gap-3">
                    <span id="userGreeting" class="text-sm font-semibold text-gray-700">
                        Hi, <span id="userNameText" class="text-[#16a34a]">User</span>
                    </span>
                    <div id="userInitial" onclick="toggleUserDropdown()" class="w-10 h-10 rounded-xl bg-gradient-to-br from-[#16a34a] to-[#0ea5e9] text-white flex items-center justify-center font-bold cursor-pointer shadow-lg shadow-green-600/10 transition-transform active:scale-95">?</div>
                    
                    <!-- Dropdown -->
                    <div id="userDropdown" style="display: none;" class="absolute top-[calc(100%+15px)] right-0 w-[220px] bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 z-[1000] animate-in fade-in slide-in-from-top-2 duration-200">
                        <a href="assets/pages/dashboard.html" class="flex items-center gap-3 p-3 text-gray-700 no-underline rounded-xl text-sm font-bold hover:bg-green-50 hover:text-[#16a34a] transition-all group">
                            <i class="fas fa-graduation-cap text-[#16a34a]/60 group-hover:text-[#16a34a]"></i> 
                            My Courses
                        </a>
                        <hr class="my-1 border-gray-100">
                        <button onclick="handleSignOut()" class="w-full flex items-center gap-3 p-3 text-red-500 bg-transparent border-none rounded-xl text-sm font-bold cursor-pointer hover:bg-red-50 transition-all">
                            <i class="fas fa-sign-out-alt opacity-70"></i> 
                            Sign Out
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Mobile Toggle -->
        <button class="mobile-menu-btn lg:hidden flex flex-col justify-center items-center gap-1.5 w-10 h-10 border-none bg-transparent cursor-pointer" id="mobileMenuBtn" aria-label="Toggle menu">
            <span class="w-6 h-0.5 bg-gray-800 transition-all duration-300"></span>
            <span class="w-6 h-0.5 bg-gray-800 transition-all duration-300"></span>
            <span class="w-6 h-0.5 bg-gray-800 transition-all duration-300"></span>
        </button>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu lg:hidden fixed top-[64px] left-0 right-0 h-0 opacity-0 overflow-hidden bg-white/98 backdrop-blur-xl transition-all duration-300 z-[999]" id="mobileMenu">
        <div class="flex flex-col h-full p-6">
            <nav class="mobile-nav-links flex flex-col gap-2">
                <a href="index.html" class="p-4 text-lg font-bold text-[#16a34a] no-underline rounded-xl bg-green-50 transition-all" onclick="closeMobileMenu()">Home</a>
                <a href="assets/pages/courses.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 active:bg-green-50 transition-all" onclick="closeMobileMenu()">Courses</a>
                <a href="assets/pages/whats-new.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 active:bg-green-50 transition-all" onclick="closeMobileMenu()">What's New</a>
                <a href="assets/pages/about.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 active:bg-green-50 transition-all" onclick="closeMobileMenu()">About</a>
                <a href="assets/pages/payment.html" class="p-4 text-lg font-bold text-gray-800 no-underline rounded-xl hover:bg-gray-50 active:bg-green-50 transition-all flex items-center gap-2" onclick="closeMobileMenu()"><i class="fas fa-credit-card text-[#16a34a]"></i> Pay</a>
            </nav>
            
            <div class="mt-auto pt-6 border-t border-gray-100">
                <div id="mobileAuthArea">
                    <button class="w-full py-4 bg-[#16a34a] text-white rounded-2xl font-bold flex items-center justify-center gap-3 shadow-lg shadow-green-600/20" onclick="openAuthModal(); closeMobileMenu()">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </div>
                <div id="mobileUserArea" style="display: none;" class="flex flex-col gap-3">
                    <a href="assets/pages/dashboard.html" class="w-full py-4 bg-green-50 text-[#16a34a] rounded-2xl font-bold flex items-center justify-center gap-3 no-underline" onclick="closeMobileMenu()">
                        <i class="fas fa-graduation-cap"></i> My Dashboard
                    </a>
                    <button onclick="handleSignOut(); closeMobileMenu()" class="w-full py-4 bg-red-50 text-red-500 border-none rounded-2xl font-bold">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </div>
</header>


<!-- --- HERO -------------------------------------------------- -->
<section class="learn-hero">
    <div class="hero-inner">

        <!-- Left: copy -->
        <div class="hero-content">
            <h1 class="hero-heading">
                Learn Smarter with<br>
                <span class="green">Course Corner Learn</span>
            </h1>
            <p class="hero-sub">
                Your personal gateway to structured online learning. Master digital literacy,
                AI productivity, and professional skills designed for the modern job market.
            </p>
            <div class="hero-ctas">
                <button class="btn-hero-primary" onclick="document.getElementById('courses').scrollIntoView({behavior:'smooth'})">
                    <i class="fas fa-rocket"></i> Start Learning Today
                </button>
                <button class="btn-hero-outline" onclick="document.getElementById('courses').scrollIntoView({behavior:'smooth'})">
                    <i class="fas fa-search"></i> Browse Courses
                </button>
            </div>
        </div>

        <!-- Right: visual image -->
        <div class="hero-visual">
            <div class="relative">
                <!-- Glow ring -->
                <div class="absolute -inset-4 rounded-3xl opacity-30" style="background:radial-gradient(ellipse,rgba(22,163,74,.5) 0%,transparent 70%); filter:blur(40px);"></div>
                <!-- Image frame -->
                <div class="relative rounded-3xl overflow-hidden shadow-2xl border border-white/10" style="height:520px;">
                    <img src="assets/images/image.png"
                         alt="Students Learning"
                         class="w-full h-full object-cover">
                    <!-- Dark overlay bottom -->
                    <div class="absolute inset-0" style="background:linear-gradient(to top,rgba(10,31,16,0.8) 0%,transparent 50%);"></div>
                    
                    <!-- Stat chips at bottom -->
                    <div class="absolute bottom-0 left-0 right-0 p-6 flex flex-wrap items-center justify-between gap-3">
                        <div class="flex items-center gap-2 bg-white/10 backdrop-blur-md border border-white/20 px-3 py-1.5 rounded-xl">
                            <div class="flex -space-x-2">
                                <img src="https://i.pravatar.cc/40?u=a1" class="w-6 h-6 rounded-full ring-2 ring-white/30" alt="">
                                <img src="https://i.pravatar.cc/40?u=a2" class="w-6 h-6 rounded-full ring-2 ring-white/30" alt="">
                                <img src="https://i.pravatar.cc/40?u=a3" class="w-6 h-6 rounded-full ring-2 ring-white/30" alt="">
                            </div>
                            <span class="text-white text-[10px] font-semibold">500+ Enrolled</span>
                        </div>
                        <div class="flex items-center gap-1.5 bg-amber-400/20 backdrop-blur-md border border-amber-400/30 px-3 py-1.5 rounded-xl">
                            <i class="fas fa-star text-amber-400 text-[10px]"></i>
                            <span class="text-amber-300 text-[10px] font-bold">4.9 Rating</span>
                        </div>
                        <div class="flex items-center gap-1.5 bg-green-400/20 backdrop-blur-md border border-green-400/30 px-3 py-1.5 rounded-xl">
                            <i class="fas fa-certificate text-green-400 text-[10px]"></i>
                            <span class="text-green-300 text-[10px] font-bold">Certified</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>


<!-- --- COURSES ----------------------------------------------- -->
<section class="courses-section" id="courses">
    <div class="section-wrap">
        <div class="courses-grid" id="coursesGrid"></div>
    </div>
</section>


<!-- --- FEATURES ---------------------------------------------- -->
<section class="features-band" id="features">
    <div class="features-grid">
        <div class="feature-item">
            <div class="feature-icon-wrap"><i class="fas fa-video"></i></div>
            <h3>Expert-Led Training</h3>
            <p>Guided sessions from industry professionals.</p>
        </div>
        <div class="feature-item">
            <div class="feature-icon-wrap"><i class="fas fa-certificate"></i></div>
            <h3>Recognized Certificates</h3>
            <p>Earn certificates to boost your professional profile.</p>
        </div>
        <div class="feature-item">
            <div class="feature-icon-wrap"><i class="fas fa-globe"></i></div>
            <h3>Remote Learning</h3>
            <p>Access your training anytime, anywhere, on any device.</p>
        </div>
        <div class="feature-item">
            <div class="feature-icon-wrap"><i class="fas fa-users-viewfinder"></i></div>
            <h3>Community Support</h3>
            <p>Join our thriving community of modern learners.</p>
        </div>
    </div>
</section>

<!-- --- WHAT'S NEW TEASER -------------------------------- -->
<section class="py-16 bg-gray-50">
    <div class="section-wrap">
        <div class="flex flex-col md:flex-row items-center justify-between gap-6 bg-white border border-gray-100 rounded-3xl p-8 shadow-sm">
            <div class="flex items-center gap-5">
                <div class="w-14 h-14 rounded-2xl flex items-center justify-center text-2xl text-white flex-shrink-0" style="background:linear-gradient(135deg,#16a34a,#0ea5e9)">
                    <i class="fas fa-newspaper"></i>
                </div>
                <div>
                    <h3 class="text-xl font-extrabold text-gray-900">What's New</h3>
                    <p class="text-sm text-gray-500 mt-0.5">Updates, success stories and tips from the Learn Portal.</p>
                </div>
            </div>
            <a href="assets/pages/whats-new.html" class="btn-hero-primary" style="flex-shrink:0">
                <i class="fas fa-arrow-right"></i> View All Posts
            </a>
        </div>
    </div>
</section>


<!-- --- FOOTER ------------------------------------------------ -->
<footer class="cc-footer">
    <div class="cc-footer-container">
        <div class="cc-footer-grid">
            <div class="cc-footer-brand">
                <div class="flex items-center gap-2 mb-4">
                    <img src="https://coursecornerkenya.com/assets/images/logo.png" class="h-10 w-auto" alt="Course Corner logo" />
                    <div class="flex flex-col leading-none">
                        <span class="text-white font-extrabold text-lg">Course Corner</span>
                        <span class="text-blue-400 font-bold text-[0.6rem] uppercase tracking-wider">Learn Portal</span>
                    </div>
                </div>
                <p>Empowering Kenyan students to gain practical digital skills for the modern economy.</p>
                <div class="cc-social-links flex gap-3 mt-6">
                    <a href="#" class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-white hover:bg-[#16a34a] transition-all"><i class="fab fa-whatsapp"></i></a>
                    <a href="#" class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-white hover:bg-[#16a34a] transition-all"><i class="fab fa-tiktok"></i></a>
                    <a href="#" class="w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-white hover:bg-[#16a34a] transition-all"><i class="fab fa-twitter"></i></a>
                </div>
            </div>

            <div class="cc-footer-links">
                <h4 class="text-white font-bold uppercase tracking-widest text-xs mb-6">Learn Portal</h4>
                <ul class="space-y-3">
                    <li><a href="index.html" class="text-gray-400 hover:text-white transition-all text-sm">Home</a></li>
                    <li><a href="assets/pages/courses.html" class="text-gray-400 hover:text-white transition-all text-sm">All Courses</a></li>
                    <li><a href="index.html#courses" class="text-gray-400 hover:text-white transition-all text-sm">Featured Courses</a></li>
                    <li><a href="assets/pages/dashboard.html" class="text-gray-400 hover:text-white transition-all text-sm">Student Dashboard</a></li>
                    <li><a href="assets/pages/whats-new.html" class="text-gray-400 hover:text-white transition-all text-sm">What's New</a></li>
                </ul>
            </div>

            <div class="cc-footer-links">
                <h4 class="text-white font-bold uppercase tracking-widest text-xs mb-6">Main Resources</h4>
                <ul class="space-y-3">
                    <li><a href="https://coursecornerkenya.com" onclick="return confirmExternal(event,this)" class="text-gray-400 hover:text-white transition-all text-sm">Main Site</a></li>
                    <li><a href="https://coursecornerkenya.com/pages/calculator.html" onclick="return confirmExternal(event,this)" class="text-gray-400 hover:text-white transition-all text-sm">Cluster Calculator</a></li>
                    <li><a href="https://coursecornerkenya.com/pages/privacy-policy.html" onclick="return confirmExternal(event,this)" class="text-gray-400 hover:text-white transition-all text-sm">Privacy Policy</a></li>
                    <li><a href="https://coursecornerkenya.com/pages/terms-of-service.html" onclick="return confirmExternal(event,this)" class="text-gray-400 hover:text-white transition-all text-sm">Terms of Service</a></li>
                </ul>
            </div>

            <div class="cc-footer-contact">
                <h4 class="text-white font-bold uppercase tracking-widest text-xs mb-6">Contact Support</h4>
                <ul class="space-y-4">
                    <li class="flex items-center gap-3 text-gray-400 text-sm"><i class="fas fa-envelope text-[#16a34a]"></i> info.coursecorner@gmail.com</li>
                    <li class="flex items-center gap-3 text-gray-400 text-sm"><i class="fas fa-phone text-[#16a34a]"></i> 0718 744780</li>
                    <li class="flex items-center gap-3 text-gray-400 text-sm"><i class="fas fa-phone text-[#16a34a]"></i> 0741 739262</li>
                    <li class="flex items-center gap-3 text-gray-400 text-sm"><i class="fas fa-map-marker-alt text-[#16a34a]"></i> Nairobi, Kenya</li>
                </ul>
            </div>
        </div>

        <div class="cc-footer-bottom border-t border-white/5 pt-8 mt-8 text-center">
            <p class="text-gray-500 text-sm">&copy; 2026 Course Corner. All rights reserved. &nbsp;&middot;&nbsp; Empowering Students Through Quality Education</p>
        </div>
    </div>
</footer>


<!-- --- AUTH MODAL -------------------------------------------- -->
<div id="authModal" class="auth-modal-overlay" role="dialog" aria-modal="true" aria-labelledby="authTitle" style="display:none;">
    <div class="auth-modal">
        <div class="modal-header">
            <div id="modalTitleGroup" style="display:flex;align-items:center;gap:.75rem;">
                <img src="https://coursecornerkenya.com/assets/images/logo.png" alt="Logo" style="width:32px;height:32px;object-fit:contain;">
                <h2 id="authTitle">Sign In</h2>
            </div>
            <button class="modal-close-btn" onclick="closeAuthModal()" aria-label="Close"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">

            <!-- ① Google — primary, one-tap action -->
            <button class="btn-google btn-google-featured" id="googleAuthBtn" onclick="handleGoogleAuth()">
                <svg width="20" height="20" viewBox="0 0 18 18"><path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.875 2.684-6.615z"/><path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18z"/><path fill="#FBBC05" d="M3.964 10.707A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.707V4.961H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.039l3.007-2.332z"/><path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.961L3.964 6.293C4.672 4.166 6.656 3.58 9 3.58z"/></svg>
                Continue with Google
            </button>

            <!-- ② Divider -->
            <div class="auth-divider" style="margin:1.25rem 0;"><span>or use email</span></div>

            <!-- ③ Email / password form -->
            <form id="authForm" class="auth-form" onsubmit="handleAuthSubmit(event)">
                <div id="signUpFields" style="display:none;">
                    <div class="form-group">
                        <label for="auName">Full Name</label>
                        <input id="auName" type="text" class="form-input" placeholder="Your Name">
                    </div>
                </div>
                <div class="form-group">
                    <label for="auEmail">Email Address</label>
                    <input id="auEmail" type="email" class="form-input" placeholder="you@example.com" required>
                </div>
                <div class="form-group">
                    <label for="auPassword">Password</label>
                    <input id="auPassword" type="password" class="form-input" placeholder="••••••••" required>
                </div>
                <button type="submit" class="btn-primary" id="authBtn">
                    <i class="fas fa-sign-in-alt"></i> <span id="authBtnText">Sign In</span>
                </button>
            </form>

            <p id="toggleAuthMode" style="text-align:center;margin-top:1.25rem;font-size:.875rem;color:#6b7280;cursor:pointer;">
                Don't have an account? <span style="color:#16a34a;font-weight:700;">Sign Up</span>
            </p>
        </div>
    </div>
</div>
<!-- Unified modal end -->


<!-- Modals cleaned up -->


<!-- --- APPLY MODAL � Removed (redirect to apply page) --- -->

<!-- --- SCRIPTS ----------------------------------------------- -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, signInWithRedirect, getRedirectResult, GoogleAuthProvider, signOut, updateProfile } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    const app = initializeApp({
        apiKey:"AIzaSyCt_mM9mwRg0QJpHC4haH7ZsLspVNJI6XM",
        authDomain:"course-corner.firebaseapp.com",
        projectId:"course-corner",
        storageBucket:"course-corner.firebasestorage.app",
        messagingSenderId:"961706784572",
        appId:"1:961706784572:web:7aa6c24946570ffda59039",
        measurementId:"G-QGJ7NZ31Z0"
    });
    const auth = getAuth(app);
    const db   = getFirestore(app);
    const gProvider = new GoogleAuthProvider();
    gProvider.setCustomParameters({ prompt: 'select_account' });

    // Handle redirect result on page load (fallback from signInWithRedirect)
    getRedirectResult(auth).then(async result => {
        if (!result) return;
        const user = result.user;
        await setDoc(doc(db, 'learn_users', user.uid), { uid: user.uid, name: user.displayName, email: user.email, lastLogin: new Date() }, { merge: true });
    }).catch(err => console.warn('Redirect result error:', err.code));

    // Auth state management
    onAuthStateChanged(auth, user => {
        const authNavBtn = document.getElementById('authNavBtn');
        const userNavArea = document.getElementById('userNavArea');
        const userNameText = document.getElementById('userNameText');
        const userInitial = document.getElementById('userInitial');
        const mobileAuthArea = document.getElementById('mobileAuthArea');
        const mobileUserArea = document.getElementById('mobileUserArea');

        if (user) {
            if(authNavBtn) authNavBtn.style.display = 'none';
            if(userNavArea) userNavArea.style.display = 'flex';
            if(userNameText) userNameText.textContent = user.displayName || user.email.split('@')[0];
            if(userInitial) userInitial.textContent = (user.displayName || user.email || '?')[0].toUpperCase();
            if(mobileAuthArea) mobileAuthArea.style.display = 'none';
            if(mobileUserArea) mobileUserArea.style.display = 'flex';
        } else {
            if(authNavBtn) authNavBtn.style.display = 'inline-flex';
            if(userNavArea) userNavArea.style.display = 'none';
            if(mobileAuthArea) mobileAuthArea.style.display = 'block';
            if(mobileUserArea) mobileUserArea.style.display = 'none';
        }
    });

    window.closeMobileMenu = () => {
        const mmBtn = document.getElementById('mobileMenuBtn');
        const mm = document.getElementById('mobileMenu');
        if(mm) mm.classList.remove('show');
        if(mmBtn) mmBtn.classList.remove('active');
    };

    window.handleSignOut = async () => {
        try {
            await signOut(auth);
            Swal.fire({ icon: 'info', title: 'Signed out successfully' });
            window.location.reload();
        } catch (err) {
            console.error("Sign out error:", err);
        }
    };

    // Unified Auth Modal Logic
    let isSignUp = false;
    let _authModalOpener = null;
    window.openAuthModal = () => {
        _authModalOpener = document.activeElement;
        const modal = document.getElementById('authModal');
        modal.style.display = 'flex';
        setAuthMode(false);
        // Move focus into modal so no aria-hidden ancestor retains focus
        setTimeout(() => {
            const btn = document.getElementById('googleAuthBtn');
            if (btn) btn.focus();
        }, 50);
    };
    window.closeAuthModal = () => {
        document.getElementById('authModal').style.display = 'none';
        // Return focus to the element that opened the modal
        if (_authModalOpener && typeof _authModalOpener.focus === 'function') {
            _authModalOpener.focus();
            _authModalOpener = null;
        }
    };
    
    window.setAuthMode = (signup) => {
        isSignUp = signup;
        document.getElementById('authTitle').textContent = signup ? 'Create Account' : 'Sign In';
        document.getElementById('authBtnText').textContent = signup ? 'Get Started' : 'Sign In';
        document.getElementById('signUpFields').style.display = signup ? 'block' : 'none';
        document.getElementById('toggleAuthMode').innerHTML = signup ? 
            'Already have an account? <span style="color:#16a34a;font-weight:700;">Sign In</span>' : 
            'Don\'t have an account? <span style="color:#16a34a;font-weight:700;">Sign Up</span>';
    };

    document.getElementById('toggleAuthMode').onclick = () => setAuthMode(!isSignUp);
    document.getElementById('authModal').onclick = (e) => { if(e.target.id === 'authModal') closeAuthModal(); };

    window.toggleUserDropdown = () => {
        const dd = document.getElementById('userDropdown');
        dd.style.display = dd.style.display === 'none' ? 'block' : 'none';
    };

    window.handleAuthSubmit = async (e) => {
        e.preventDefault();
        const email = document.getElementById('auEmail').value;
        const pass = document.getElementById('auPassword').value;
        const btn = document.getElementById('authBtn');
        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';

        try {
            if (isSignUp) {
                const name = document.getElementById('auName').value;
                const { user } = await createUserWithEmailAndPassword(auth, email, pass);
                await updateProfile(user, { displayName: name });
                await setDoc(doc(db, 'learn_users', user.uid), { uid: user.uid, name, email, createdAt: new Date() });
                Swal.fire({ icon: 'success', title: 'Welcome!', text: `Account created, ${name}!` });
            } else {
                await signInWithEmailAndPassword(auth, email, pass);
            }
            closeAuthModal();
        } catch (err) {
            Swal.fire({ icon: 'error', title: 'Auth Failed', text: authErr(err.code) });
        } finally {
            btn.disabled = false;
            btn.innerHTML = isSignUp ? 'Get Started' : 'Sign In';
        }
    };

    window.handleGoogleAuth = async () => {
        try {
            const { user } = await signInWithPopup(auth, gProvider);
            await setDoc(doc(db, 'learn_users', user.uid), { uid: user.uid, name: user.displayName, email: user.email, lastLogin: new Date() }, { merge: true });
            closeAuthModal();
        } catch (err) {
            console.error('Google sign-in error:', err.code, err.message);
            if (err.code === 'auth/popup-closed-by-user' || err.code === 'auth/cancelled-popup-request') return;
            // Popup blocked or unsupported — fall back to redirect flow
            if (err.code === 'auth/popup-blocked' || err.code === 'auth/operation-not-supported-in-this-environment') {
                await signInWithRedirect(auth, gProvider);
                return;
            }
            Swal.fire({ icon: 'error', title: 'Google Sign-in Failed', text: authErr(err.code, err.message) });
        }
    };

    window.handleSignOut = async () => {
        await signOut(auth);
        location.reload();
    };

    // Apply � redirect to apply page
    window.openApplyModal = (courseId) => {
        window.location.href = `assets/pages/apply.html?course=${courseId}`;
    };
    window.closeApplyModal = () => {};

    // Load Courses from JSON
    async function loadCourses() {
        try {
            const resp = await fetch('data/courses.json');
            const courses = await resp.json();
            const grid = document.getElementById('coursesGrid');
            grid.innerHTML = courses.map(c => `
                <div class="course-card group">
                    <div class="course-thumb" style="position:relative;">
                        <img src="${c.image}" alt="${c.title}" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center top;">
                        <div style="position:absolute;inset:0;background:${c.gradient};opacity:0.72;"></div>
                        <div style="position:absolute;inset:0;background:rgba(0,0,0,0);transition:background .2s;" class="group-hover:bg-black/10"></div>
                        <i class="${c.icon}" style="position:relative;z-index:1;font-size:2.5rem;color:white;filter:drop-shadow(0 4px 8px rgba(0,0,0,.25));"></i>
                    </div>
                    <div class="course-body p-6 flex flex-col h-full">
                        <div class="flex justify-between items-start mb-3">
                            <span class="px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${
                                c.level === 'Beginner' ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700'
                            }">${c.level} � ${c.duration}</span>
                            <span class="text-xs font-bold text-gray-400">#${c.id}</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2 leading-tight">${c.title}</h3>
                        <p class="text-sm text-gray-500 line-clamp-3 mb-4">${c.description}</p>
                        
                        <div class="flex flex-wrap gap-1.5 mb-6">
                            ${c.tags.slice(0, 3).map(t => `<span class="text-[10px] font-bold px-2 py-0.5 bg-gray-50 text-gray-600 rounded-md border border-gray-100">${t}</span>`).join('')}
                        </div>

                        <div class="mt-auto pt-4 border-t border-gray-100 flex items-center justify-between">
                            <div>
                                <p class="text-[10px] uppercase font-bold text-gray-400">Course Fee</p>
                                <p class="text-lg font-extrabold text-[#16a34a]">${c.currency} ${c.fee.toLocaleString()}</p>
                            </div>
                            <div class="flex gap-2">
                                <a href="assets/pages/course-detail.html?id=${c.id}" class="w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200 transition-colors">
                                    <i class="fas fa-eye"></i>
                                </a>
                                <button onclick="openApplyModal('${c.id}')" class="px-4 h-10 rounded-xl bg-[#16a34a] text-white font-bold text-sm hover:bg-[#15803d] transition-colors shadow-lg shadow-green-600/20">
                                    Apply Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Adjust grid layout for dynamic items
            grid.className = "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8";
        } catch (err) {
            console.error("Failed to load courses:", err);
            document.getElementById('coursesGrid').innerHTML = '<p class="text-center py-10 text-gray-400">No courses currently available. Please check back later.</p>';
        }
    }

    loadCourses();

    function authErr(code, message){
        const map = {
            'auth/email-already-in-use':   'This email is already registered.',
            'auth/weak-password':           'Password must be at least 6 characters.',
            'auth/invalid-email':           'Please enter a valid email address.',
            'auth/user-not-found':          'No account found with this email.',
            'auth/wrong-password':          'Incorrect password.',
            'auth/invalid-credential':      'Incorrect email or password.',
            'auth/too-many-requests':       'Too many attempts. Please try again later.',
            'auth/unauthorized-domain':     'This domain is not authorised for sign-in. Please contact support.',
            'auth/popup-blocked':           'Sign-in popup was blocked by your browser. Please allow popups and try again.',
            'auth/popup-closed-by-user':    'Sign-in window was closed. Please try again.',
            'auth/account-exists-with-different-credential': 'An account already exists with a different sign-in method.',
            'auth/network-request-failed':  'Network error. Please check your connection and try again.',
            'auth/internal-error':          'An internal error occurred. Please try again.',
            'auth/user-disabled':           'This account has been disabled. Please contact support.',
        };
        return map[code] || `Sign-in failed (${code || 'unknown'}). Please try again.`;
    }
</script>

<script>
    // Mobile menu toggle logic
    document.addEventListener('DOMContentLoaded', () => {
        const mmBtn = document.getElementById('mobileMenuBtn');
        const mm = document.getElementById('mobileMenu');
        if (mmBtn && mm) {
            mmBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                mm.classList.toggle('show');
                mmBtn.classList.toggle('active');
            });
        }
        // Close on outside click
        document.addEventListener('click', (e) => {
            const mm = document.getElementById('mobileMenu');
            const mmBtn = document.getElementById('mobileMenuBtn');
            if (mm && mm.classList.contains('show') && !mm.contains(e.target) && !mmBtn.contains(e.target)) {
                mm.classList.remove('show');
                mmBtn.classList.remove('active');
            }
        });
    });

    // Handle scroll shadow for header
    window.addEventListener('scroll', () => {
        const header = document.getElementById('learnHeader');
        if (header) header.classList.toggle('scrolled', window.scrollY > 10);
    });

    // Close mobile menu helper
    window.closeMobileMenu = () => {
        const mm = document.getElementById('mobileMenu');
        const mmBtn = document.getElementById('mobileMenuBtn');
        if (mm) mm.classList.remove('show');
        if (mmBtn) mmBtn.classList.remove('active');
    };

    // -- External link redirect prompt -------------------------
    window.confirmExternal = function(e, el) {
        e.preventDefault();
        const url  = el.href;
        const host = new URL(url).hostname.replace('www.','');
        Swal.fire({
            title: 'Leaving Learn Portal',
            html: `You are being redirected to <br><strong>${host}</strong>`,
            icon: 'info',
            showCancelButton: true,
            confirmButtonText: '<i class="fas fa-external-link-alt"></i>&nbsp;Continue',
            cancelButtonText: 'Stay Here',
            confirmButtonColor: '#16a34a',
            cancelButtonColor: '#6b7280',
        }).then(r => { if (r.isConfirmed) window.location.href = url; });
        return false;
    };
</script>

</body>
</html>